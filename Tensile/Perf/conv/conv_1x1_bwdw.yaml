GlobalParameters:
  MinimumRequiredVersion: 4.1.0
  CMakeBuildType: Release
  NumElementsToValidate: 0
  ValidationMaxToPrint: 16
  PinClocks: False
  SleepPercent: 0
  DataInitTypeA: 0
  DataInitTypeB: 0
  EnqueuesPerSync: 100
  KernelTime: True
  NewClient: 2
  PrintConvolutionUsage: 0
  PrintSolutionRejectionReason: 0

BenchmarkProblems:
  -
    - # ProblemType
      OperationType: ConvolutionBackwardWeights
      DataType: s
      ConvolutionConfig:
      - Dilation: 1x1
      - Filter: 1x1
      - Stride: 1x1
      - TensorAFormat: NCHW
      - UnrollOnChannel: 0

    - # BenchmarkProblemSizeGroup - Standard
      InitialSolutionParameters:
      BenchmarkCommonParameters:
        - KernelLanguage: [Assembly]
        - EdgeType: ["ShiftPtr"]
      ForkParameters:
        - PrefetchGlobalRead: [1]
        - PrefetchLocalRead: [0,1]
        - ThreadTile:
          #- [ 4, 4 ]
          - [ 8, 4 ]
          - [ 4, 8 ]
          - [ 8, 8 ]
        - WorkGroup:
          - [ 8, 8, 1 ]
          - [ 8, 16, 1 ]
          - [ 8, 32, 1 ]
          #- GlobalSplitU: [1,2,4,6,8,12,32]
        - GlobalSplitU: [6,12,32,48]
        - DepthU: [8,16]
        - GlobalReadVectorWidth: [-1]
        - StaggerU: [0,32]
          #- WorkGroupMapping: [1,8,64]
        - VectorWidth: [4]
        - FractionalLoad: [0,1]
        - PackBatchDims: [1] # must be one for AllowNoFreeDims
          #- AssertFree0ElementMultiple: [4]
          #- VectorStore: [0]
      BenchmarkForkParameters:
      BenchmarkJoinParameters:
      BenchmarkFinalParameters:
        - ProblemSizes: # C, K, H*W, N
          - Exact: [64, 256, 64, 3136]  #conv -n 64 -c 64 -H 56 -W 56 -k 256 -y 1 -x 1 -p 0 -q 0 -u 1 -v 1 -l 1 -j 1
            #- Exact: [64, 256, 3136, 64]  #conv -n 64 -c 64 -H 56 -W 56 -k 256 -y 1 -x 1 -p 0 -q 0 -u 1 -v 1 -l 1 -j 1

#   Tensile    : ConvChar: Explanation/Usage
# UnrollOnChannel=1
#  0('I') Batch:     'C' : Cin.  sizeI=Cin. [strideB:0]
#  1('J') Free :     'K' : Cout. sizeJ=Cout.
#  2('K') Sum  :    'HW' : Spatially packed HW. sizeK=H_o*W_o. strideAK=strideW(1). [strideA:1] [strideB:1]
#  3('L') Sum  :     'N' : Minibatch dimension. sizeL=N.
#
# UnrollOnChannel=0
#  0('I') Batch:     'C' : Cin.  sizeI=Cin. [strideB:0]
#  1('J') Free :     'K' : Cout. sizeJ=Cout.
#  2('K') Sum  :     'N' : Minibatch dimension. sizeK=N.
#  3('L') Sum  :    'HW' : Spatially packed HW. sizeL=H_o*W_o. strideAL=strideW(1). [strideA:1] [strideB:1]
#
